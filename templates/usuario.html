<div id="asientos"></div>

<script>
const contenedor = document.getElementById("asientos");
fetch("/consultar")
  .then(res => res.json())
  .then(data => {
    const asientos = data["vuelo_123"].asientos;
    let html = "";
    for (let asiento in asientos) {
      const ocupado = asientos[asiento];
      html += `<button type="button" class="${ocupado ? 'ocupado' : 'libre'}"
               onclick="seleccionar('${asiento}', this)" ${ocupado ? 'disabled' : ''}>
               ${asiento}</button> `;
    }
    contenedor.innerHTML = html;
  });

function seleccionar(asiento, btn) {
  document.querySelectorAll('.libre').forEach(b => b.classList.remove("seleccionado"));
  btn.classList.add("seleccionado");
  document.getElementById("asientoSeleccionado").value = asiento;
}
</script>
